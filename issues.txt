При компиляции mesa любой версии выше 20.0.0
возникала ошибка, примерный текст: "error adding symbols: malformed archive
collect2: error: ld returned 1 exit status"
причина: в том как в системе был собран gnu binutils-2.37,
при конфигурации последнего была указана опция stack-protector-strong
решение: заменил пакет binutils-2.37 на binutils-2.35 который у меня был и в котором конфигурация была сделана без этой опции
ошибка исчезла

В файл include/xorg/xf86Opt.h необходимо добавить строку:
#include <stdbool.h>
